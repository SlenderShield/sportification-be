# =============================================================================
# TEST ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains test-specific environment variables
# Used for automated testing, CI/CD pipelines, and staging environment
# =============================================================================

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
NODE_ENV=test
PORT=3000
API_PREFIX=/api/v1
APP_NAME=Sportification API Test
APP_VERSION=1.0.0

# -----------------------------------------------------------------------------
# Database Configuration (Use separate test database or MongoDB Memory Server)
# -----------------------------------------------------------------------------
MONGODB_URI=mongodb://admin:testpass123@localhost:27018/sportification_test?authSource=admin
MONGODB_MAX_POOL_SIZE=5
MONGODB_MIN_POOL_SIZE=1

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6380
REDIS_PREFIX=sportification:test:
REDIS_TTL=1800

# -----------------------------------------------------------------------------
# JWT Configuration (Use different secrets for test environment)
# -----------------------------------------------------------------------------
JWT_SECRET=test-jwt-secret-for-automated-testing-only
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=test-refresh-secret-for-automated-testing-only
JWT_REFRESH_EXPIRES_IN=24h

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:3001,https://test.sportification.com

# -----------------------------------------------------------------------------
# Rate Limiting (More lenient for testing)
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# -----------------------------------------------------------------------------
# File Upload Configuration
# -----------------------------------------------------------------------------
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif

# -----------------------------------------------------------------------------
# Email Configuration (Use mock email service)
# -----------------------------------------------------------------------------
EMAIL_SERVICE=ethereal
EMAIL_USER=test@ethereal.email
EMAIL_PASS=testpassword
EMAIL_FROM=test@sportification.com

# -----------------------------------------------------------------------------
# Session Configuration
# -----------------------------------------------------------------------------
SESSION_SECRET=test-session-secret
SESSION_COOKIE_NAME=sportification.test.sid
SESSION_TTL=1800
SESSION_REDIS_PREFIX=test:session:

# -----------------------------------------------------------------------------
# Logging Configuration (Less verbose for tests)
# -----------------------------------------------------------------------------
LOG_LEVEL=warn
LOG_FILE_PATH=logs/test.log
LOG_MAX_SIZE=5m
LOG_MAX_FILES=3d

# -----------------------------------------------------------------------------
# Security Configuration (Faster for testing)
# -----------------------------------------------------------------------------
BCRYPT_ROUNDS=4

# -----------------------------------------------------------------------------
# OAuth Configuration (Use test credentials)
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=test-google-client-id
GOOGLE_CLIENT_SECRET=test-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/google/callback

GITHUB_CLIENT_ID=test-github-client-id
GITHUB_CLIENT_SECRET=test-github-client-secret
GITHUB_CALLBACK_URL=http://localhost:3000/api/v1/auth/github/callback

FACEBOOK_CLIENT_ID=test-facebook-client-id
FACEBOOK_CLIENT_SECRET=test-facebook-client-secret
FACEBOOK_CALLBACK_URL=http://localhost:3000/api/v1/auth/facebook/callback

# -----------------------------------------------------------------------------
# MFA Configuration
# -----------------------------------------------------------------------------
MFA_ISSUER=Sportification Test

# -----------------------------------------------------------------------------
# Frontend URL
# -----------------------------------------------------------------------------
FRONTEND_URL=http://localhost:3001

# -----------------------------------------------------------------------------
# AWS Configuration (Use mocked services or test account)
# -----------------------------------------------------------------------------
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=test-access-key
AWS_SECRET_ACCESS_KEY=test-secret-key
S3_BUCKET_NAME=sportification-test-uploads

# -----------------------------------------------------------------------------
# Monitoring & APM (Disabled in test)
# -----------------------------------------------------------------------------
SENTRY_DSN=
DATADOG_API_KEY=
NEW_RELIC_LICENSE_KEY=

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_SWAGGER=false
ENABLE_RATE_LIMITING=false
ENABLE_REDIS=false
ENABLE_EMAIL=false

# -----------------------------------------------------------------------------
# Database Migrations
# -----------------------------------------------------------------------------
RUN_MIGRATIONS=true
RUN_SEEDS=true

# -----------------------------------------------------------------------------
# Test-Specific Configuration
# -----------------------------------------------------------------------------
TEST_TIMEOUT=10000
JEST_MAX_WORKERS=4
